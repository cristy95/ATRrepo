create table pending(
	stud_id char(9) primary key,
	status text
);

--controller
create or replace
	function set_pending(p_stud_id char(9), 
				p_status text
	returns text as

$BODY$
 declare
	v_stud_id char(9);
begin
	select into v_stud_id stud_id from pending
		where stud_id = p_stud_id;

	if v_stud_id isnull then
		insert into pending (stud_id, 
					status) 
		values (p_stud_id, p_status);
	else
		update pending
		set status = p_status
		where stud_id = p_stud_id;
	end if;
	
	return 'set';
end;
$BODY$
language 'plpgsql';
